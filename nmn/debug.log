Watching for file changes with StatReloader
Watching for file changes with StatReloader
Unauthorized: /api/records/
Unauthorized: /api/reminders/
Unauthorized: /api/reminders/
Unauthorized: /api/records/
Unauthorized: /api/doctors/
Unauthorized: /api/patients/
Unauthorized: /api/records/
Upload record data: {'doctor': ['12'], 'patient': [6], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp Image 2025-05-02 at 12.52.42_720db5a2.jpg (image/jpeg)>]}
Record uploaded successfully for doctor 12, patient 6
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/share/baa7cf7b-c951-4650-aad4-330514299e19/
Unauthorized: /api/records/
Upload record data: {'doctor': ['12'], 'patient': [6], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp Image 2025-05-01 at 20.37.52_c97286e6.jpg (image/jpeg)>]}
Record uploaded successfully for doctor 12, patient 6
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/share/ca97b0c5-61a7-4405-abba-c819805956ae/
Unauthorized: /api/records/
Unauthorized: /api/reminders/
Upload record data: {'doctor': ['12'], 'patient': [14], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp Image 2025-05-02 at 12.59.35_391f5dca.jpg (image/jpeg)>]}
Record uploaded successfully for doctor 12, patient 14
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\urls.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Upload record data: {'doctor': ['10'], 'patient': [16], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp_Image_2025-05-01_at_20_a507Tgk.37.52_c97286e6.jpg (image/jpeg)>]}
Record uploaded successfully for doctor 10, patient 16
Unauthorized: /api/login/
Unauthorized: /api/packages/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/packages/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\urls.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\urls.py changed, reloading.
Watching for file changes with StatReloader
Upload record data: {'patient': ['6'], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp_Image_2025-05-01_at_20_a507Tgk.37.52_c97286e6.jpg (image/jpeg)>], 'doctor': [17]}
Record uploaded successfully for doctor 17, patient 6
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\urls.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\urls.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/doctors/
Upload record data: {'doctor': ['10'], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp_Image_2025-05-01_at_20_a507Tgk.37.52_c97286e6.jpg (image/jpeg)>], 'patient': [18]}
Record uploaded successfully for doctor 10, patient 18
Upload record data: {'patient': ['18'], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp_Image_2025-05-01_at_20_a507Tgk.37.52_c97286e6 (1).jpg (image/jpeg)>], 'doctor': [10]}
Record uploaded successfully for doctor 10, patient 18
Processing reminder for user tharunkumarvk28@gmail.com (doctor) at 2025-06-01 21:59:00+00:00
Failed to send reminder to tharunkumarvk28@gmail.com: (535, b'5.7.8 Username and Password not accepted. For more information, go to\n5.7.8  https://support.google.com/mail/?p=BadCredentials d9443c01a7336-23506cf53dasm60947955ad.184 - gsmtp')
Processing reminder for user tharunkumarvk28@gmail.com (doctor) at 2025-06-01 21:59:00+00:00
Failed to send reminder to tharunkumarvk28@gmail.com: (535, b'5.7.8 Username and Password not accepted. For more information, go to\n5.7.8  https://support.google.com/mail/?p=BadCredentials d2e1a72fcca58-747afe9643fsm6623628b3a.2 - gsmtp')
Total reminders sent: 0
Processing reminder for user tharunkumarvk28@gmail.com (doctor) at 2025-06-01 21:59:00+00:00
Failed to send reminder to tharunkumarvk28@gmail.com: (535, b'5.7.8 Username and Password not accepted. For more information, go to\n5.7.8  https://support.google.com/mail/?p=BadCredentials d2e1a72fcca58-747afeab6b2sm6784743b3a.57 - gsmtp')
Processing reminder for user tharunkumarvk28@gmail.com (doctor) at 2025-06-01 21:59:00+00:00
Failed to send reminder to tharunkumarvk28@gmail.com: (535, b'5.7.8 Username and Password not accepted. For more information, go to\n5.7.8  https://support.google.com/mail/?p=BadCredentials d2e1a72fcca58-747afeab5fesm6585634b3a.42 - gsmtp')
Total reminders sent: 0
D:\pls_pixel\pixeltre-med\backend\settings.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/reminders/
Unauthorized: /api/reminders/
Processing reminder for user tharunkumarvk28@gmail.com (doctor) at 2025-06-01 21:59:00+00:00
Sent reminder to tharunkumarvk28@gmail.com
Processing reminder for user tharunkumarvk28@gmail.com (doctor) at 2025-06-01 21:59:00+00:00
Sent reminder to tharunkumarvk28@gmail.com
Total reminders sent: 2
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Upload record data: {'patient': ['7'], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp_Image_2025-05-01_at_20_a507Tgk.37.52_c97286e6.jpg (image/jpeg)>], 'doctor': [10]}
Record uploaded successfully for doctor 10, patient 7
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/patients/
Unauthorized: /api/patients/
Unauthorized: /api/patients/
Total reminders sent: 0
Bad Request: /api/login/
Unauthorized: /api/packages/2/
Forbidden: /api/packages/2/
Forbidden: /api/packages/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\urls.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\urls.py changed, reloading.
Watching for file changes with StatReloader
Total reminders sent: 0
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/login/
Unauthorized: /api/login/
Not Found: /
Unauthorized: /api/login/
Unauthorized: /api/login/
Unauthorized: /api/login/
Watching for file changes with StatReloader
Unauthorized: /api/login/
Unauthorized: /api/login/
Unauthorized: /api/login/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/login/
Unauthorized: /api/login/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/login/
Unauthorized: /api/login/
Unauthorized: /api/profile/
Unauthorized: /api/login/
Unauthorized: /api/login/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Processing reminder for user rustyboffinbotmini@gmail.com (patient) at 2025-06-02 07:19:00+00:00
Sent reminder to rustyboffinbotmini@gmail.com
Processing reminder for user rustyboffinbotmini@gmail.com (patient) at 2025-06-02 07:25:00+00:00
Sent reminder to rustyboffinbotmini@gmail.com
Processing reminder for user tharunkumarvk28@gmail.com (patient) at 2025-06-02 07:28:00+00:00
Sent reminder to tharunkumarvk28@gmail.com
Processing reminder for user rustyboffinbot@gmail.com (doctor) at 2025-06-02 07:34:00+00:00
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Sent reminder to rustyboffinbot@gmail.com
Processing reminder for user tharunkumarvk28@gmail.com (patient) at 2025-06-02 08:39:00+00:00
Sent reminder to tharunkumarvk28@gmail.com
Processing reminder for user tharunkumarvk28@gmail.com (doctor) at 2025-06-02 08:42:00+00:00
Sent reminder to tharunkumarvk28@gmail.com
Processing reminder for user tharunkumarvk28@gmail.com (doctor) at 2025-06-02 08:44:00+00:00
Sent reminder to tharunkumarvk28@gmail.com
Processing reminder for user tharunkumarvk28@gmail.com (doctor) at 2025-06-02 08:50:00+00:00
Sent reminder to tharunkumarvk28@gmail.com
Processing reminder for user tharunkumarvk28@gmail.com (doctor) at 2025-06-02 09:06:00+00:00
Sent reminder to tharunkumarvk28@gmail.com
Processing reminder for user tharunkumarvk28@gmail.com (doctor) at 2025-06-02 09:31:00+00:00
Sent reminder to tharunkumarvk28@gmail.com
Total reminders sent: 10
Not Found: /api/users/8/
Unauthorized: /api/packages/
Unauthorized: /api/packages/
Unauthorized: /api/login/
Unauthorized: /api/login/
Unauthorized: /api/login/
Unauthorized: /api/login/
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\urls.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/records/
Unauthorized: /api/login/
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\urls.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
Bad Request: /api/register/
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
Bad Request: /api/register/
Bad Request: /api/register/
D:\pls_pixel\pixeltre-med\hospital\urls.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\urls.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/register/
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/login/
Unauthorized: /api/login/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\backend\settings.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\backend\settings.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Upload record data: {'doctor': ['15'], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp_Image_2025-05-01_at_20_a507Tgk.37.52_c97286e6.jpg (image/jpeg)>], 'patient': [21]}
Record uploaded successfully for doctor 15, patient 21
Not Found: /api/share//
Not Found: /favicon.ico
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/records/
Upload record data: {'doctor': ['17'], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp_Image_2025-05-01_at_20_a507Tgk.37.52_c97286e6.jpg (image/jpeg)>], 'patient': [21]}
Record uploaded successfully for doctor 17, patient 21
Internal Server Error: /api/records/16/generate-link/
Not Found: /api/share//
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/records/
Error generating share link: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/16/generate-link/
Error generating share link: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/16/generate-link/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 302, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/16/generate-link/
Forbidden: /api/records/16/delete/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 302, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/16/generate-link/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/records/16/generate-link/
Unauthorized: /api/records/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 301, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/16/generate-link/
Total reminders sent: 0
Unauthorized: /api/doctors/
Unauthorized: /api/doctors/
Bad Request: /api/register/
Bad Request: /api/register/
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
Upload record data: {'patient': ['14'], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp_Image_2025-05-01_at_20_a507Tgk_kVK1HSm.37.52_c97286e6.jpg (image/jpeg)>], 'doctor': [22]}
Doctor 22 has no package
Bad Request: /api/records/upload/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Upload record data: {'patient': ['14'], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp_Image_2025-05-01_at_20_a507Tgk_kVK1HSm.37.52_c97286e6.jpg (image/jpeg)>], 'doctor': [22]}
Record uploaded successfully for doctor 22, patient 14
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/records/
Internal Server Error: /api/records/17/delete/
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 281, in delete_record
    if not record.doctor.package.can_delete:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'can_delete'
Upload record data: {'patient': ['20'], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: record-0998dc78-3dda-4853-b82f-ca7358e43e74.jpg (image/jpeg)>], 'doctor': [22]}
Record uploaded successfully for doctor 22, patient 20
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\urls.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/records/
Upload record data: {'patient': ['20'], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: record-0998dc78-3dda-4853-b82f-ca7358e43e74.jpg (image/jpeg)>], 'doctor': [22]}
Record uploaded successfully for doctor 22, patient 20
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Upload record data: {'patient': ['14'], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp_Image_2025-05-01_at_20_a507Tgk_kVK1HSm.37.52_c97286e6.jpg (image/jpeg)>], 'doctor': [22]}
Record uploaded successfully for doctor 22, patient 14
Unauthorized: /api/records/19/download/
Unauthorized: /api/records/
Download attempt: user=22 (doctor), record.doctor=22, record.patient=14
Internal Server Error: /api/reminders/
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 230, in create_reminder
    if request.user.user_type == 'doctor' and not request.user.package.can_set_reminders:
                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'can_set_reminders'
Internal Server Error: /api/reminders/
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 230, in create_reminder
    if request.user.user_type == 'doctor' and not request.user.package.can_set_reminders:
                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'can_set_reminders'
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/patients/
Unauthorized: /api/patients/
Unauthorized: /api/patients/
Unauthorized: /api/login/
Processing reminder for user tharunkumarvk28@gmail.com (patient) at 2025-06-02 21:34:00+00:00
Sent reminder to tharunkumarvk28@gmail.com
Total reminders sent: 1
Unauthorized: /api/doctors/
Unauthorized: /api/doctors/
Unauthorized: /api/login/
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Unauthorized: /api/doctors/
Unauthorized: /api/doctors/
Upload record data: {'doctor': ['23'], 'description': ['test'], 'prescription': [<InMemoryUploadedFile: WhatsApp_Image_2025-05-01_at_20_a507Tgk_kVK1HSm.37.52_c97286e6.jpg (image/jpeg)>], 'patient': [25]}
Record uploaded successfully for doctor 23, patient 25
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/doctors/
Unauthorized: /api/records/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Forbidden: /api/records/upload/
Bad Request: /api/register/
Bad Request: /api/register/
Bad Request: /api/register/
Bad Request: /api/register/
Bad Request: /api/register/
Bad Request: /api/records/upload/
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
Bad Request: /api/records/upload/
Forbidden: /api/records/upload/
Unauthorized: /api/login/
Bad Request: /api/records/upload/
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
Bad Request: /api/records/upload/
Bad Request: /api/records/upload/
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Unauthorized: /api/doctors/
Bad Request: /api/records/upload/
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
Bad Request: /api/records/upload/
Bad Request: /api/records/upload/
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
Bad Request: /api/records/upload/
Unauthorized: /api/login/
Unauthorized: /api/login/
Bad Request: /api/records/upload/
Download attempt: user=28 (doctor), record.doctor=28, record.patient=25
Forbidden: /api/records/upload/
Unauthorized: /api/login/
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Unauthorized: /api/doctors/
Unauthorized: /api/doctors/
Total reminders sent: 0
Unauthorized: /api/doctors/
Total reminders sent: 0
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/doctors/
Unauthorized: /api/doctors/
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
Total reminders sent: 0
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
Total reminders sent: 0
Unauthorized: /api/doctors/
Unauthorized: /api/doctors/
Total reminders sent: 0
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
Total reminders sent: 0
Total reminders sent: 0
Unauthorized: /api/doctors/
Forbidden: /api/reminders/
Download attempt: user=30 (patient), record.doctor=31, record.patient=30
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 286, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/25/generate-link/
Total reminders sent: 0
Forbidden: /api/reminders/
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
Bad Request: /api/users/30/
Bad Request: /api/users/30/
Unauthorized: /api/users/31/
Unauthorized: /api/users/31/
Unauthorized: /api/users/
Unauthorized: /api/packages/
Unauthorized: /api/login/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 286, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/26/generate-link/
Download attempt: user=33 (patient), record.doctor=32, record.patient=33
Total reminders sent: 0
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/reminders/
Unauthorized: /api/records/1/delete/
Unauthorized: /api/records/2/generate-link/
Unauthorized: /api/records/
Unauthorized: /api/logout/
Unauthorized: /api/profile/
Bad Request: /api/register/
Unauthorized: /api/records/4/share/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/records/upload/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 296, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/26/generate-link/
Not Found: /api/share//
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 296, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/26/generate-link/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 296, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/27/generate-link/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 296, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/26/generate-link/
Unauthorized: /api/reminders/
Unauthorized: /api/records/1/delete/
Unauthorized: /api/records/2/generate-link/
Unauthorized: /api/records/
Unauthorized: /api/logout/
Unauthorized: /api/profile/
Bad Request: /api/register/
Unauthorized: /api/records/4/share/
Unauthorized: /api/records/upload/
Not Found: /api/share//
Unauthorized: /api/reminders/
Unauthorized: /api/records/1/delete/
Unauthorized: /api/records/2/generate-link/
Unauthorized: /api/records/
Unauthorized: /api/logout/
Unauthorized: /api/profile/
Bad Request: /api/register/
Unauthorized: /api/records/4/share/
Unauthorized: /api/records/upload/
Not Found: /api/share//
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 296, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/26/generate-link/
Download attempt: user=33 (patient), record.doctor=32, record.patient=33
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 296, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/26/generate-link/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/records/27/generate-link/
Unauthorized: /api/records/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 294, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/27/generate-link/
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\serializers.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 296, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/27/generate-link/
Unauthorized: /api/login/
Unauthorized: /api/login/
Unauthorized: /api/login/
Watching for file changes with StatReloader
Unauthorized: /api/login/
Download attempt: user=32 (doctor), record.doctor=32, record.patient=33
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 296, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/29/generate-link/
Download attempt: user=34 (patient), record.doctor=32, record.patient=34
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 294, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/29/generate-link/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 294, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/29/generate-link/
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/records/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 294, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/29/generate-link/
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 294, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/29/generate-link/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 294, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/30/generate-link/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 295, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/29/generate-link/
Unauthorized: /api/doctors/
Unauthorized: /api/doctors/
Unauthorized: /api/doctors/
Total reminders sent: 0
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 295, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/29/generate-link/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 295, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/29/generate-link/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 295, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/29/generate-link/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/records/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 301, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/29/generate-link/
Download attempt: user=34 (patient), record.doctor=32, record.patient=34
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/records/
Error in generate_share_link: (1048, "Column 'token' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'token' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 301, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'token' cannot be null")
Internal Server Error: /api/records/29/generate-link/
D:\pls_pixel\pixeltre-med\hospital\models.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/records/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 301, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/29/generate-link/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 301, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/30/generate-link/
Download attempt: user=34 (patient), record.doctor=32, record.patient=34
Unauthorized: /api/records/
Error in generate_share_link: (1048, "Column 'expires_at' cannot be null")
Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
hospital.models.SharedLink.DoesNotExist: SharedLink matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'expires_at' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pls_pixel\pixeltre-med\hospital\views.py", line 301, in generate_share_link
    shared_link, created = SharedLink.objects.get_or_create(record=record)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 953, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\pls_pixel\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'expires_at' cannot be null")
Internal Server Error: /api/records/29/generate-link/
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
D:\pls_pixel\pixeltre-med\hospital\views.py changed, reloading.
Watching for file changes with StatReloader
Share link generated: user=34, record=29, link=http://localhost:8000/api/share/94b9878c-749c-4dd0-ba63-2256ca6c189b/
Unauthorized: /api/login/
D:\pls_pixel\pixeltre-med\backend\settings.py changed, reloading.
